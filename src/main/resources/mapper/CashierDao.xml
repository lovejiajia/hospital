<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aaa.dao.CashierDao">

    <resultMap type="com.aaa.entity.Cashier" id="CashierMap">
        <result property="cashier" column="cashier" jdbcType="INTEGER"/>
        <result property="reportid" column="reportId" jdbcType="INTEGER"/>
        <result property="durgname" column="durgname" jdbcType="VARCHAR"/>
        <result property="durgnum" column="durgnum" jdbcType="INTEGER"/>
        <result property="repiceprice" column="repiceprice" jdbcType="VARCHAR"/>
        <result property="repicetotal" column="repicetotal" jdbcType="VARCHAR"/>
        <result property="state" column="state" jdbcType="INTEGER"/>
        <result property="ctime" column="ctime" jdbcType="TIMESTAMP"/>
        <result property="ostate" column="ostate" jdbcType="INTEGER"/>
        <result property="jie" column="jie" jdbcType="VARCHAR"/>
        <result property="mstate" column="mstate" jdbcType="INTEGER"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="CashierMap">
        select
          cashier, reportId, durgname, durgnum, repiceprice, repicetotal, state, ctime, ostate, jie, mstate
        from cashier
        where cashier = #{cashier}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="CashierMap">
        select
          cashier, reportId, durgname, durgnum, repiceprice, repicetotal, state, ctime, ostate, jie, mstate
        from cashier
        <where>
            <if test="cashier != null">
                and cashier = #{cashier}
            </if>
            <if test="reportid != null">
                and reportId = #{reportid}
            </if>
            <if test="durgname != null and durgname != ''">
                and durgname = #{durgname}
            </if>
            <if test="durgnum != null">
                and durgnum = #{durgnum}
            </if>
            <if test="repiceprice != null">
                and repiceprice = #{repiceprice}
            </if>
            <if test="repicetotal != null">
                and repicetotal = #{repicetotal}
            </if>
            <if test="state != null">
                and state = #{state}
            </if>
            <if test="ctime != null">
                and ctime = #{ctime}
            </if>
            <if test="ostate != null">
                and ostate = #{ostate}
            </if>
            <if test="jie != null and jie != ''">
                and jie = #{jie}
            </if>
            <if test="mstate != null">
                and mstate = #{mstate}
            </if>
        </where>
        limit #{pageable.offset}, #{pageable.pageSize}
    </select>

    <!--统计总行数-->
    <select id="count" resultType="java.lang.Long">
        select count(1)
        from cashier
        <where>
            <if test="cashier != null">
                and cashier = #{cashier}
            </if>
            <if test="reportid != null">
                and reportId = #{reportid}
            </if>
            <if test="durgname != null and durgname != ''">
                and durgname = #{durgname}
            </if>
            <if test="durgnum != null">
                and durgnum = #{durgnum}
            </if>
            <if test="repiceprice != null">
                and repiceprice = #{repiceprice}
            </if>
            <if test="repicetotal != null">
                and repicetotal = #{repicetotal}
            </if>
            <if test="state != null">
                and state = #{state}
            </if>
            <if test="ctime != null">
                and ctime = #{ctime}
            </if>
            <if test="ostate != null">
                and ostate = #{ostate}
            </if>
            <if test="jie != null and jie != ''">
                and jie = #{jie}
            </if>
            <if test="mstate != null">
                and mstate = #{mstate}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="cashier" useGeneratedKeys="true">
        insert into cashier(reportId, durgname, durgnum, repiceprice, repicetotal, state, ctime, ostate, jie, mstate)
        values (#{reportid}, #{durgname}, #{durgnum}, #{repiceprice}, #{repicetotal}, #{state}, #{ctime}, #{ostate}, #{jie}, #{mstate})
    </insert>

    <insert id="insertBatch" keyProperty="cashier" useGeneratedKeys="true">
        insert into cashier(reportId, durgname, durgnum, repiceprice, repicetotal, state, ctime, ostate, jie, mstate)
        values
        <foreach collection="entities" item="entity" separator=",">
        (#{entity.reportid}, #{entity.durgname}, #{entity.durgnum}, #{entity.repiceprice}, #{entity.repicetotal}, #{entity.state}, #{entity.ctime}, #{entity.ostate}, #{entity.jie}, #{entity.mstate})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="cashier" useGeneratedKeys="true">
        insert into cashier(reportId, durgname, durgnum, repiceprice, repicetotal, state, ctime, ostate, jie, mstate)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.reportid}, #{entity.durgname}, #{entity.durgnum}, #{entity.repiceprice}, #{entity.repicetotal}, #{entity.state}, #{entity.ctime}, #{entity.ostate}, #{entity.jie}, #{entity.mstate})
        </foreach>
        on duplicate key update
        reportId = values(reportId),
        durgname = values(durgname),
        durgnum = values(durgnum),
        repiceprice = values(repiceprice),
        repicetotal = values(repicetotal),
        state = values(state),
        ctime = values(ctime),
        ostate = values(ostate),
        jie = values(jie),
        mstate = values(mstate)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update cashier
        <set>
            <if test="reportid != null">
                reportId = #{reportid},
            </if>
            <if test="durgname != null and durgname != ''">
                durgname = #{durgname},
            </if>
            <if test="durgnum != null">
                durgnum = #{durgnum},
            </if>
            <if test="repiceprice != null">
                repiceprice = #{repiceprice},
            </if>
            <if test="repicetotal != null">
                repicetotal = #{repicetotal},
            </if>
            <if test="state != null">
                state = #{state},
            </if>
            <if test="ctime != null">
                ctime = #{ctime},
            </if>
            <if test="ostate != null">
                ostate = #{ostate},
            </if>
            <if test="jie != null and jie != ''">
                jie = #{jie},
            </if>
            <if test="mstate != null">
                mstate = #{mstate},
            </if>
        </set>
        where cashier = #{cashier}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from cashier where cashier = #{cashier}
    </delete>

</mapper>

